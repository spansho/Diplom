<!DOCTYPE html>
<html style="height: 100vh;">
<head>
    <meta charset="utf-8" />
    <base href="/" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Angular in ASP.NET Core</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" />
</head>
<body style="width: 100%; height: 100vh; background-color: #EAE7DC;">
    <main style="height: 100vh;"></main>
    <div id="chatroom"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/6.0.1/signalr.js"></script>
        <script>
            // document.addEventListener('DOMContentLoaded', function() {
            //     console.log("start");
            //     const hubConnection = new signalR.HubConnectionBuilder()
            //         .withUrl("/voting")
            //         .build();
        
            //     const createNewRoomBtns = document.querySelectorAll("#create-new-room");
            //     console.log(createNewRoomBtns);
            //     for (let i = 0; i < createNewRoomBtns.length; i++) {
            //         createNewRoomBtns[i].addEventListener("click", async () => {
            //             const response = await fetch("/api/Room/create", {
            //                 method: "POST",
            //                 mode: "cors",
            //                 cache: "no-cache",
            //                 credentials: "same-origin",
            //                 headers: {
            //                     "Content-Type": "application/json"
            //                 },
            //                 redirect: "follow",
            //                 referrerPolicy: "no-referrer",
            //                 body: JSON.stringify({})
            //             });

            //             if (!response.ok) {
            //                 throw new CustomError(await response.json());
            //             }

            //             const responseJsone = response.json();
            //             console.log(responseJsone);
            //             const roomNum = responseJsone.Id;   // получаем введенное имя
            
                        // hubConnection.invoke("Conect", "Подключение к комнате", roomNum) // отправка данных серверу
                        //     .catch(function (err) {
                        //         return console.error(err.toString());
                        //     });
            //         });
            //     }
            //     const enterRoomBtn = document.getElementById("enter-room");
            //     console.log(enterRoomBtn);
            //     enterRoomBtn.addEventListener("click", () => {
            //         const roomNum = document.getElementById("room-num").value;   // получаем введенное имя
        
            //         hubConnection.invoke("Conect", "Подключение к комнате", roomNum) // отправка данных серверу
            //             .catch(function (err) {
            //                 return console.error(err.toString());
            //             });
            //     });
            //     // получение данных с сервера
                // hubConnection.on("Receive", (message) => {
                //     alert(message);
                // });
        
            //     hubConnection.start()
            //         .then(function () {
            //             for (let i = 0; i < createNewRoomBtns.length; i++) {
            //                 createNewRoomBtns[i].disabled = false;
            //             }

            //             enterRoomBtn.disabled = false;
            //         })
            //         .catch(function (err) {
            //             return console.error(err.toString());
            //         });
            // }, false);
        </script>
</body>
</html>